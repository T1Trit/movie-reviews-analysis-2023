# üöÄ –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫ Telegram Bot

–ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –∑–∞–ø—É—Å–∫–∞ Telegram –±–æ—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞ –æ—Ç–∑—ã–≤–æ–≤ —Ñ–∏–ª—å–º–æ–≤.

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.8+
- –¢–æ–∫–µ–Ω Telegram –±–æ—Ç–∞ –æ—Ç @BotFather
- –î–æ—Å—Ç—É–ø –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

## ‚ö° –ë—ã—Å—Ç—Ä–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ (5 –º–∏–Ω—É—Ç)

### 1. –ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞
```
1. –ù–∞–π–¥–∏—Ç–µ @BotFather –≤ Telegram
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É: /newbot
3. –í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –±–æ—Ç–∞: Movie Reviews Bot
4. –í–≤–µ–¥–∏—Ç–µ username: –≤–∞—à_—É–Ω–∏–∫–∞–ª—å–Ω—ã–π_bot
5. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω
```

### 2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
```bash
# –í –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞
git clone <—ç—Ç–æ—Ç-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π>
cd movie-reviews-analysis-2023

# –°–æ–∑–¥–∞–π—Ç–µ .env —Ñ–∞–π–ª
cp .env.example .env

# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env —Ñ–∞–π–ª - –¥–æ–±–∞–≤—å—Ç–µ —Ç–æ–∫–µ–Ω
# BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–æ—Ç_BotFather
```

### 3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```bash
# –°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
python -m venv venv

# –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ (Windows)
venv\\Scripts\\activate

# –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ (Linux/Mac)
source venv/bin/activate

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install --upgrade pip
pip install -r requirements.txt
```

### 4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å
```bash
cd telegram_bot
python check_setup.py
```

–í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
```
‚úÖ –í—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ–π–¥–µ–Ω—ã! –ë–æ—Ç –≥–æ—Ç–æ–≤ –∫ –∑–∞–ø—É—Å–∫—É.
```

### 5. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞
```bash
cd telegram_bot
python main.py
```

–£—Å–ø–µ—à–Ω—ã–π –∑–∞–ø—É—Å–∫ –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫:
```
üöÄ –ó–∞–ø—É—Å–∫ Telegram –±–æ—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞ –æ—Ç–∑—ã–≤–æ–≤ —Ñ–∏–ª—å–º–æ–≤...
üìÅ –î–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã
üìä –°–µ—Ä–≤–∏—Å –∞–Ω–∞–ª–∏–∑–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
üìà –°–µ—Ä–≤–∏—Å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ!
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–æ—Ç–∞

### –û—Ç–∫—Ä–æ–π—Ç–µ Telegram –∏ –Ω–∞–π–¥–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞
1. –ü–æ–∏—Å–∫: @–≤–∞—à_—É–Ω–∏–∫–∞–ª—å–Ω—ã–π_bot
2. –ù–∞–∂–º–∏—Ç–µ "Start" –∏–ª–∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ `/start`

### –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—ã:
```
/start - –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ
/help - –°–ø—Ä–∞–≤–∫–∞ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º
/demo - –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π
/analyze 1318972 - –ê–Ω–∞–ª–∏–∑ —Ñ–∏–ª—å–º–∞ "–û–ø–ø–µ–Ω–≥–µ–π–º–µ—Ä"
/chart 1318972 sentiment - –ì—Ä–∞—Ñ–∏–∫ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–π
/wordcloud 1318972 - –û–±–ª–∞–∫–æ —Å–ª–æ–≤
```

## üéØ –ì–æ—Ç–æ–≤—ã–µ –ø—Ä–∏–º–µ—Ä—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

| –§–∏–ª—å–º | ID | –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ç–µ—Å—Ç–∞ |
|-------|----|--------------------|
| –û–ø–ø–µ–Ω–≥–µ–π–º–µ—Ä | 1318972 | `/analyze 1318972`<br/>`/chart 1318972 sentiment` |
| –ë–∞—Ä–±–∏ | 1202258 | `/analyze 1202258`<br/>`/wordcloud 1202258` |
| –ß–µ–ª–æ–≤–µ–∫-–ø–∞—É–∫ | 1143242 | `/analyze 1143242`<br/>`/chart 1143242 summary` |

## üîß –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ–∫–µ–Ω
grep BOT_TOKEN .env

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
tail -f telegram_bot/logs/bot.log

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞
cd telegram_bot
python main.py
```

### –û—à–∏–±–∫–∏ –∏–º–ø–æ—Ä—Ç–∞
```bash
# –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt --force-reinstall

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
which python
```

### –ü—Ä–æ–±–ª–µ–º—ã —Å –≥—Ä–∞—Ñ–∏–∫–∞–º–∏
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ matplotlib
python -c "import matplotlib; print('OK')"

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —à—Ä–∏—Ñ—Ç—ã (Linux)
sudo apt-get install fonts-dejavu

# –û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à matplotlib
rm -rf ~/.matplotlib
```

## üìä –ü—Ä–∏–º–µ—Ä—ã —Ä–∞–±–æ—Ç—ã

### –ê–Ω–∞–ª–∏–∑ —Ñ–∏–ª—å–º–∞
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: /analyze 1318972
–ë–æ—Ç: üé¨ –ê–Ω–∞–ª–∏–∑ –∑–∞–≤–µ—Ä—à—ë–Ω: –û–ø–ø–µ–Ω–≥–µ–π–º–µ—Ä

üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:
üìù –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –æ—Ç–∑—ã–≤–æ–≤: 50
‚≠ê –°—Ä–µ–¥–Ω—è—è –æ—Ü–µ–Ω–∫–∞: 8.2/10

üòä –ù–∞—Å—Ç—Ä–æ–µ–Ω–∏—è –∑—Ä–∏—Ç–µ–ª–µ–π:
‚Ä¢ –ü–æ–∑–∏—Ç–∏–≤–Ω—ã–µ: 72.0%
‚Ä¢ –ù–µ–≥–∞—Ç–∏–≤–Ω—ã–µ: 18.0%
‚Ä¢ –ù–µ–π—Ç—Ä–∞–ª—å–Ω—ã–µ: 10.0%

‚úÖ –û–±—â–µ–µ –≤–æ—Å–ø—Ä–∏—è—Ç–∏–µ: –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–µ
```

### –°–æ–∑–¥–∞–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–∞
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: /chart 1318972 sentiment
–ë–æ—Ç: üìä –°–æ–∑–¥–∞–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–∞: sentiment
     ‚è≥ –ì–µ–Ω–µ—Ä–∏—Ä—É—é –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é...
     
     [–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å –∫—Ä—É–≥–æ–≤–æ–π –¥–∏–∞–≥—Ä–∞–º–º–æ–π]
     
     ‚úÖ –ì—Ä–∞—Ñ–∏–∫ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–π —Å–æ–∑–¥–∞–Ω!
```

## üé® –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –ü–æ–ª–Ω–∞—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è
```bash
/visualize 1318972  # –°–æ–∑–¥–∞–µ—Ç –≤—Å–µ –≥—Ä–∞—Ñ–∏–∫–∏ —Å—Ä–∞–∑—É
```

### –ü–æ–∏—Å–∫ —Ñ–∏–ª—å–º–æ–≤
```bash
/search –û–ø–ø–µ–Ω–≥–µ–π–º–µ—Ä     # –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é
/movie 1318972          # –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
```

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
```bash
/status    # –°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã
/stats     # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
/about     # –û –ø—Ä–æ–µ–∫—Ç–µ
```

## üîÑ –†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã

### Long Polling (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
```env
WEBHOOK_MODE=false
```

### Webhook (–¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω)
```env
WEBHOOK_MODE=true
WEBHOOK_URL=https://yourdomain.com
WEBHOOK_PORT=8443
```

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –õ–æ–≥–∏
```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
tail -f telegram_bot/logs/bot.log

# –ü–æ–∏—Å–∫ –æ—à–∏–±–æ–∫
grep ERROR telegram_bot/logs/bot.log
```

### –í–µ–±-—Å—Ç–∞—Ç—É—Å (—Ç–æ–ª—å–∫–æ –≤ webhook —Ä–µ–∂–∏–º–µ)
```bash
curl http://localhost:8443/health
curl http://localhost:8443/status
```

## üéØ –ß—Ç–æ –¥–∞–ª—å—à–µ?

1. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ä–µ–∞–ª—å–Ω—ã–º API –ö–∏–Ω–æ–ø–æ–∏—Å–∫–∞** - –∑–∞–º–µ–Ω–∞ –∑–∞–≥–ª—É—à–µ–∫
2. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∞–Ω–∞–ª–∏–∑–∞
3. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** - —É—Å–∫–æ—Ä–µ–Ω–∏–µ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
4. **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏** - —ç–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö, –ø–æ–¥–ø–∏—Å–∫–∏

## üí° –°–æ–≤–µ—Ç—ã –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

- –ê–Ω–∞–ª–∏–∑ –∑–∞–Ω–∏–º–∞–µ—Ç 10-30 —Å–µ–∫—É–Ω–¥ - —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ
- –ë–æ–ª—å—à–∏–µ –≥—Ä–∞—Ñ–∏–∫–∏ –º–æ–≥—É—Ç –∑–∞–Ω–∏–º–∞—Ç—å –¥–æ 60 —Å–µ–∫—É–Ω–¥
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `/demo` –¥–ª—è –∑–Ω–∞–∫–æ–º—Å—Ç–≤–∞ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏
- –ü—Ä–∏ –æ—à–∏–±–∫–∞—Ö –ø—Ä–æ–≤–µ—Ä—å—Ç–µ `/status` –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

- GitHub Issues: –°–æ–∑–¥–∞–π—Ç–µ issue –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö
- –õ–æ–≥–∏: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `telegram_bot/logs/bot.log`
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è: –ó–∞–ø—É—Å—Ç–∏—Ç–µ `python check_setup.py`

---

üé¨ **–£—Å–ø–µ—à–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –∫–∏–Ω–µ–º–∞—Ç–æ–≥—Ä–∞—Ñ–∞!**